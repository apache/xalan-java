<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_391) on Sun Jun 22 16:12:07 IST 2025 -->
<title>FastStringBuffer</title>
<meta name="date" content="2025-06-22">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="FastStringBuffer";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":9,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/xml/utils/DOMOrder.html" title="interface in org.apache.xml.utils"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/apache/xml/utils/Hashtree2Node.html" title="class in org.apache.xml.utils"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/xml/utils/FastStringBuffer.html" target="_top">Frames</a></li>
<li><a href="FastStringBuffer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.xml.utils</div>
<h2 title="Class FastStringBuffer" class="title">Class FastStringBuffer</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.xml.utils.FastStringBuffer</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">FastStringBuffer</span>
extends java.lang.Object</pre>
<div class="block">Bare-bones, unsafe, fast string buffer. No thread-safety, no
 parameter range checking, exposed fields. Note that in typical
 applications, thread-safety of a StringBuffer is a somewhat
 dubious concept in any case.
 <p>
 Note that Stree and DTM used a single FastStringBuffer as a string pool,
 by recording start and length indices within this single buffer. This
 minimizes heap overhead, but of course requires more work when retrieving
 the data.
 <p>
 FastStringBuffer operates as a "chunked buffer". Doing so
 reduces the need to recopy existing information when an append
 exceeds the space available; we just allocate another chunk and
 flow across to it. (The array of chunks may need to grow,
 admittedly, but that's a much smaller object.) Some excess
 recopying may arise when we extract Strings which cross chunk
 boundaries; larger chunks make that less frequent.
 <p>
 The size values are parameterized, to allow tuning this code. In
 theory, Result Tree Fragments might want to be tuned differently 
 from the main document's text. 
 <p>
 %REVIEW% An experiment in self-tuning is
 included in the code (using nested FastStringBuffers to achieve
 variation in chunk sizes), but this implementation has proven to
 be problematic when data may be being copied from the FSB into itself.
 We should either re-architect that to make this safe (if possible)
 or remove that code and clean up for performance/maintainability reasons.
 <p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/xml/utils/FastStringBuffer.html#SUPPRESS_BOTH">SUPPRESS_BOTH</a></span></code>
<div class="block">Manifest constant: Suppress both leading and trailing whitespace.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/xml/utils/FastStringBuffer.html#SUPPRESS_LEADING_WS">SUPPRESS_LEADING_WS</a></span></code>
<div class="block">Manifest constant: Suppress leading whitespace.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/xml/utils/FastStringBuffer.html#SUPPRESS_TRAILING_WS">SUPPRESS_TRAILING_WS</a></span></code>
<div class="block">Manifest constant: Suppress trailing whitespace.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/apache/xml/utils/FastStringBuffer.html#FastStringBuffer--">FastStringBuffer</a></span>()</code>
<div class="block">Construct a FastStringBuffer, using a default allocation policy.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/apache/xml/utils/FastStringBuffer.html#FastStringBuffer-int-">FastStringBuffer</a></span>(int&nbsp;initChunkBits)</code>
<div class="block">Construct a FastStringBuffer, using default maxChunkBits and
 rebundleBits values.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/apache/xml/utils/FastStringBuffer.html#FastStringBuffer-int-int-">FastStringBuffer</a></span>(int&nbsp;initChunkBits,
                int&nbsp;maxChunkBits)</code>
<div class="block">Construct a FastStringBuffer, using a default rebundleBits value.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/apache/xml/utils/FastStringBuffer.html#FastStringBuffer-int-int-int-">FastStringBuffer</a></span>(int&nbsp;initChunkBits,
                int&nbsp;maxChunkBits,
                int&nbsp;rebundleBits)</code>
<div class="block">Construct a FastStringBuffer, with allocation policy as per parameters.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/xml/utils/FastStringBuffer.html#append-char-">append</a></span>(char&nbsp;value)</code>
<div class="block">Append a single character onto the FastStringBuffer, growing the
 storage if necessary.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/xml/utils/FastStringBuffer.html#append-char:A-int-int-">append</a></span>(char[]&nbsp;chars,
      int&nbsp;start,
      int&nbsp;length)</code>
<div class="block">Append part of the contents of a Character Array onto the
 FastStringBuffer,  growing the storage if necessary.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/xml/utils/FastStringBuffer.html#append-org.apache.xml.utils.FastStringBuffer-">append</a></span>(<a href="../../../../org/apache/xml/utils/FastStringBuffer.html" title="class in org.apache.xml.utils">FastStringBuffer</a>&nbsp;value)</code>
<div class="block">Append the contents of another FastStringBuffer onto
 this FastStringBuffer, growing the storage if necessary.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/xml/utils/FastStringBuffer.html#append-java.lang.String-">append</a></span>(java.lang.String&nbsp;value)</code>
<div class="block">Append the contents of a String onto the FastStringBuffer,
 growing the storage if necessary.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/xml/utils/FastStringBuffer.html#append-java.lang.StringBuffer-">append</a></span>(java.lang.StringBuffer&nbsp;value)</code>
<div class="block">Append the contents of a StringBuffer onto the FastStringBuffer,
 growing the storage if necessary.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>char</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/xml/utils/FastStringBuffer.html#charAt-int-">charAt</a></span>(int&nbsp;pos)</code>
<div class="block">Get a single character from the string buffer.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/xml/utils/FastStringBuffer.html#getOneChunkString-int-int-int-">getOneChunkString</a></span>(int&nbsp;startChunk,
                 int&nbsp;startColumn,
                 int&nbsp;length)</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/xml/utils/FastStringBuffer.html#getString-int-int-">getString</a></span>(int&nbsp;start,
         int&nbsp;length)</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/xml/utils/FastStringBuffer.html#isWhitespace-int-int-">isWhitespace</a></span>(int&nbsp;start,
            int&nbsp;length)</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/xml/utils/FastStringBuffer.html#length--">length</a></span>()</code>
<div class="block">Get the length of the list.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/xml/utils/FastStringBuffer.html#reset--">reset</a></span>()</code>
<div class="block">Discard the content of the FastStringBuffer, and most of the memory
 that was allocated by it, restoring the initial state.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/xml/utils/FastStringBuffer.html#sendNormalizedSAXcharacters-char:A-int-int-org.xml.sax.ContentHandler-">sendNormalizedSAXcharacters</a></span>(char[]&nbsp;ch,
                           int&nbsp;start,
                           int&nbsp;length,
                           org.xml.sax.ContentHandler&nbsp;handler)</code>
<div class="block">Directly normalize and dispatch the character array.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/xml/utils/FastStringBuffer.html#sendNormalizedSAXcharacters-org.xml.sax.ContentHandler-int-int-">sendNormalizedSAXcharacters</a></span>(org.xml.sax.ContentHandler&nbsp;ch,
                           int&nbsp;start,
                           int&nbsp;length)</code>
<div class="block">Sends the specified range of characters as one or more SAX characters()
 events, normalizing the characters according to XSLT rules.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/xml/utils/FastStringBuffer.html#sendSAXcharacters-org.xml.sax.ContentHandler-int-int-">sendSAXcharacters</a></span>(org.xml.sax.ContentHandler&nbsp;ch,
                 int&nbsp;start,
                 int&nbsp;length)</code>
<div class="block">Sends the specified range of characters as one or more SAX characters()
 events.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/xml/utils/FastStringBuffer.html#sendSAXComment-org.xml.sax.ext.LexicalHandler-int-int-">sendSAXComment</a></span>(org.xml.sax.ext.LexicalHandler&nbsp;ch,
              int&nbsp;start,
              int&nbsp;length)</code>
<div class="block">Sends the specified range of characters as sax Comment.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/xml/utils/FastStringBuffer.html#setLength-int-">setLength</a></span>(int&nbsp;l)</code>
<div class="block">Directly set how much of the FastStringBuffer's storage is to be
 considered part of its content.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/xml/utils/FastStringBuffer.html#size--">size</a></span>()</code>
<div class="block">Get the length of the list.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/xml/utils/FastStringBuffer.html#toString--">toString</a></span>()</code>
<div class="block">Note that this operation has been somewhat deoptimized by the shift to a
 chunked array, as there is no factory method to produce a String object
 directly from an array of arrays and hence a double copy is needed.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="SUPPRESS_LEADING_WS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SUPPRESS_LEADING_WS</h4>
<pre>public static final&nbsp;int SUPPRESS_LEADING_WS</pre>
<div class="block">Manifest constant: Suppress leading whitespace.
 This should be used when normalize-to-SAX is called for the first chunk of a
 multi-chunk output, or one following unsuppressed whitespace in a previous
 chunk.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/apache/xml/utils/FastStringBuffer.html#sendNormalizedSAXcharacters-org.xml.sax.ContentHandler-int-int-"><code>sendNormalizedSAXcharacters(org.xml.sax.ContentHandler,int,int)</code></a>, 
<a href="../../../../constant-values.html#org.apache.xml.utils.FastStringBuffer.SUPPRESS_LEADING_WS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="SUPPRESS_TRAILING_WS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SUPPRESS_TRAILING_WS</h4>
<pre>public static final&nbsp;int SUPPRESS_TRAILING_WS</pre>
<div class="block">Manifest constant: Suppress trailing whitespace.
 This should be used when normalize-to-SAX is called for the last chunk of a
 multi-chunk output; it may have to be or'ed with SUPPRESS_LEADING_WS.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.apache.xml.utils.FastStringBuffer.SUPPRESS_TRAILING_WS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="SUPPRESS_BOTH">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SUPPRESS_BOTH</h4>
<pre>public static final&nbsp;int SUPPRESS_BOTH</pre>
<div class="block">Manifest constant: Suppress both leading and trailing whitespace.
 This should be used when normalize-to-SAX is called for a complete string.
 (I'm not wild about the name of this one. Ideas welcome.)</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/apache/xml/utils/FastStringBuffer.html#sendNormalizedSAXcharacters-org.xml.sax.ContentHandler-int-int-"><code>sendNormalizedSAXcharacters(org.xml.sax.ContentHandler,int,int)</code></a>, 
<a href="../../../../constant-values.html#org.apache.xml.utils.FastStringBuffer.SUPPRESS_BOTH">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="FastStringBuffer-int-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FastStringBuffer</h4>
<pre>public&nbsp;FastStringBuffer(int&nbsp;initChunkBits,
                        int&nbsp;maxChunkBits,
                        int&nbsp;rebundleBits)</pre>
<div class="block">Construct a FastStringBuffer, with allocation policy as per parameters.
 <p>
 For coding convenience, I've expressed both allocation sizes in terms of
 a number of bits. That's needed for the final size of a chunk,
 to permit fast and efficient shift-and-mask addressing. It's less critical
 for the inital size, and may be reconsidered.
 <p>
 An alternative would be to accept integer sizes and round to powers of two;
 that really doesn't seem to buy us much, if anything.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>initChunkBits</code> - Length in characters of the initial allocation
 of a chunk, expressed in log-base-2. (That is, 10 means allocate 1024
 characters.) Later chunks will use larger allocation units, to trade off
 allocation speed of large document against storage efficiency of small
 ones.</dd>
<dd><code>maxChunkBits</code> - Number of character-offset bits that should be used for
 addressing within a chunk. Maximum length of a chunk is 2^chunkBits
 characters.</dd>
<dd><code>rebundleBits</code> - Number of character-offset bits that addressing should
 advance before we attempt to take a step from initChunkBits to maxChunkBits</dd>
</dl>
</li>
</ul>
<a name="FastStringBuffer-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FastStringBuffer</h4>
<pre>public&nbsp;FastStringBuffer(int&nbsp;initChunkBits,
                        int&nbsp;maxChunkBits)</pre>
<div class="block">Construct a FastStringBuffer, using a default rebundleBits value.

 NEEDSDOC @param initChunkBits
 NEEDSDOC @param maxChunkBits</div>
</li>
</ul>
<a name="FastStringBuffer-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FastStringBuffer</h4>
<pre>public&nbsp;FastStringBuffer(int&nbsp;initChunkBits)</pre>
<div class="block">Construct a FastStringBuffer, using default maxChunkBits and
 rebundleBits values.
 <p>
 ISSUE: Should this call assert initial size, or fixed size?
 Now configured as initial, with a default for fixed.

 NEEDSDOC @param initChunkBits</div>
</li>
</ul>
<a name="FastStringBuffer--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>FastStringBuffer</h4>
<pre>public&nbsp;FastStringBuffer()</pre>
<div class="block">Construct a FastStringBuffer, using a default allocation policy.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="size--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>size</h4>
<pre>public final&nbsp;int&nbsp;size()</pre>
<div class="block">Get the length of the list. Synonym for length().</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of characters in the FastStringBuffer's content.</dd>
</dl>
</li>
</ul>
<a name="length--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>length</h4>
<pre>public final&nbsp;int&nbsp;length()</pre>
<div class="block">Get the length of the list. Synonym for size().</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of characters in the FastStringBuffer's content.</dd>
</dl>
</li>
</ul>
<a name="reset--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reset</h4>
<pre>public final&nbsp;void&nbsp;reset()</pre>
<div class="block">Discard the content of the FastStringBuffer, and most of the memory
 that was allocated by it, restoring the initial state. Note that this
 may eventually be different from setLength(0), which see.</div>
</li>
</ul>
<a name="setLength-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLength</h4>
<pre>public final&nbsp;void&nbsp;setLength(int&nbsp;l)</pre>
<div class="block">Directly set how much of the FastStringBuffer's storage is to be
 considered part of its content. This is a fast but hazardous
 operation. It is not protected against negative values, or values
 greater than the amount of storage currently available... and even
 if additional storage does exist, its contents are unpredictable.
 The only safe use for our setLength() is to truncate the FastStringBuffer
 to a shorter string.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>l</code> - New length. If l<0 or l>=getLength(), this operation will
 not report an error but future operations will almost certainly fail.</dd>
</dl>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public final&nbsp;java.lang.String&nbsp;toString()</pre>
<div class="block">Note that this operation has been somewhat deoptimized by the shift to a
 chunked array, as there is no factory method to produce a String object
 directly from an array of arrays and hence a double copy is needed.
 By using ensureCapacity we hope to minimize the heap overhead of building
 the intermediate StringBuffer.
 <p>
 (It really is a pity that Java didn't design String as a final subclass
 of MutableString, rather than having StringBuffer be a separate hierarchy.
 We'd avoid a <strong>lot</strong> of double-buffering.)</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the contents of the FastStringBuffer as a standard Java string.</dd>
</dl>
</li>
</ul>
<a name="append-char-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>append</h4>
<pre>public final&nbsp;void&nbsp;append(char&nbsp;value)</pre>
<div class="block">Append a single character onto the FastStringBuffer, growing the
 storage if necessary.
 <p>
 NOTE THAT after calling append(), previously obtained
 references to m_array[][] may no longer be valid....
 though in fact they should be in this instance.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>value</code> - character to be appended.</dd>
</dl>
</li>
</ul>
<a name="append-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>append</h4>
<pre>public final&nbsp;void&nbsp;append(java.lang.String&nbsp;value)</pre>
<div class="block">Append the contents of a String onto the FastStringBuffer,
 growing the storage if necessary.
 <p>
 NOTE THAT after calling append(), previously obtained
 references to m_array[] may no longer be valid.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>value</code> - String whose contents are to be appended.</dd>
</dl>
</li>
</ul>
<a name="append-java.lang.StringBuffer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>append</h4>
<pre>public final&nbsp;void&nbsp;append(java.lang.StringBuffer&nbsp;value)</pre>
<div class="block">Append the contents of a StringBuffer onto the FastStringBuffer,
 growing the storage if necessary.
 <p>
 NOTE THAT after calling append(), previously obtained
 references to m_array[] may no longer be valid.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>value</code> - StringBuffer whose contents are to be appended.</dd>
</dl>
</li>
</ul>
<a name="append-char:A-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>append</h4>
<pre>public final&nbsp;void&nbsp;append(char[]&nbsp;chars,
                         int&nbsp;start,
                         int&nbsp;length)</pre>
<div class="block">Append part of the contents of a Character Array onto the
 FastStringBuffer,  growing the storage if necessary.
 <p>
 NOTE THAT after calling append(), previously obtained
 references to m_array[] may no longer be valid.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>chars</code> - character array from which data is to be copied</dd>
<dd><code>start</code> - offset in chars of first character to be copied,
 zero-based.</dd>
<dd><code>length</code> - number of characters to be copied</dd>
</dl>
</li>
</ul>
<a name="append-org.apache.xml.utils.FastStringBuffer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>append</h4>
<pre>public final&nbsp;void&nbsp;append(<a href="../../../../org/apache/xml/utils/FastStringBuffer.html" title="class in org.apache.xml.utils">FastStringBuffer</a>&nbsp;value)</pre>
<div class="block">Append the contents of another FastStringBuffer onto
 this FastStringBuffer, growing the storage if necessary.
 <p>
 NOTE THAT after calling append(), previously obtained
 references to m_array[] may no longer be valid.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>value</code> - FastStringBuffer whose contents are
 to be appended.</dd>
</dl>
</li>
</ul>
<a name="isWhitespace-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isWhitespace</h4>
<pre>public&nbsp;boolean&nbsp;isWhitespace(int&nbsp;start,
                            int&nbsp;length)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>start</code> - Offset of first character in the range.</dd>
<dd><code>length</code> - Number of characters to send.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the specified range of characters are all whitespace,
 as defined by XMLCharacterRecognizer.
 <p>
 CURRENTLY DOES NOT CHECK FOR OUT-OF-RANGE.</dd>
</dl>
</li>
</ul>
<a name="getString-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getString</h4>
<pre>public&nbsp;java.lang.String&nbsp;getString(int&nbsp;start,
                                  int&nbsp;length)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>start</code> - Offset of first character in the range.</dd>
<dd><code>length</code> - Number of characters to send.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new String object initialized from the specified range of
 characters.</dd>
</dl>
</li>
</ul>
<a name="getOneChunkString-int-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOneChunkString</h4>
<pre>protected&nbsp;java.lang.String&nbsp;getOneChunkString(int&nbsp;startChunk,
                                             int&nbsp;startColumn,
                                             int&nbsp;length)</pre>
</li>
</ul>
<a name="charAt-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>charAt</h4>
<pre>public&nbsp;char&nbsp;charAt(int&nbsp;pos)</pre>
<div class="block">Get a single character from the string buffer.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pos</code> - character position requested.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A character from the requested position.</dd>
</dl>
</li>
</ul>
<a name="sendSAXcharacters-org.xml.sax.ContentHandler-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendSAXcharacters</h4>
<pre>public&nbsp;void&nbsp;sendSAXcharacters(org.xml.sax.ContentHandler&nbsp;ch,
                              int&nbsp;start,
                              int&nbsp;length)
                       throws org.xml.sax.SAXException</pre>
<div class="block">Sends the specified range of characters as one or more SAX characters()
 events.
 Note that the buffer reference passed to the ContentHandler may be
 invalidated if the FastStringBuffer is edited; it's the user's
 responsibility to manage access to the FastStringBuffer to prevent this
 problem from arising.
 <p>
 Note too that there is no promise that the output will be sent as a
 single call. As is always true in SAX, one logical string may be split
 across multiple blocks of memory and hence delivered as several
 successive events.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ch</code> - SAX ContentHandler object to receive the event.</dd>
<dd><code>start</code> - Offset of first character in the range.</dd>
<dd><code>length</code> - Number of characters to send.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.xml.sax.SAXException</code> - may be thrown by handler's
 characters() method.</dd>
</dl>
</li>
</ul>
<a name="sendNormalizedSAXcharacters-org.xml.sax.ContentHandler-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendNormalizedSAXcharacters</h4>
<pre>public&nbsp;int&nbsp;sendNormalizedSAXcharacters(org.xml.sax.ContentHandler&nbsp;ch,
                                       int&nbsp;start,
                                       int&nbsp;length)
                                throws org.xml.sax.SAXException</pre>
<div class="block">Sends the specified range of characters as one or more SAX characters()
 events, normalizing the characters according to XSLT rules.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ch</code> - SAX ContentHandler object to receive the event.</dd>
<dd><code>start</code> - Offset of first character in the range.</dd>
<dd><code>length</code> - Number of characters to send.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>normalization status to apply to next chunk (because we may
 have been called recursively to process an inner FSB):
 <dl>
 <dt>0</dt>
 <dd>if this output did not end in retained whitespace, and thus whitespace
 at the start of the following chunk (if any) should be converted to a
 single space.
 <dt>SUPPRESS_LEADING_WS</dt>
 <dd>if this output ended in retained whitespace, and thus whitespace
 at the start of the following chunk (if any) should be completely
 suppressed.</dd>
 </dd>
 </dl></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.xml.sax.SAXException</code> - may be thrown by handler's
 characters() method.</dd>
</dl>
</li>
</ul>
<a name="sendNormalizedSAXcharacters-char:A-int-int-org.xml.sax.ContentHandler-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendNormalizedSAXcharacters</h4>
<pre>public static&nbsp;void&nbsp;sendNormalizedSAXcharacters(char[]&nbsp;ch,
                                               int&nbsp;start,
                                               int&nbsp;length,
                                               org.xml.sax.ContentHandler&nbsp;handler)
                                        throws org.xml.sax.SAXException</pre>
<div class="block">Directly normalize and dispatch the character array.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ch</code> - The characters from the XML document.</dd>
<dd><code>start</code> - The start position in the array.</dd>
<dd><code>length</code> - The number of characters to read from the array.</dd>
<dd><code>handler</code> - SAX ContentHandler object to receive the event.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.xml.sax.SAXException</code> - Any SAX exception, possibly
            wrapping another exception.</dd>
</dl>
</li>
</ul>
<a name="sendSAXComment-org.xml.sax.ext.LexicalHandler-int-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>sendSAXComment</h4>
<pre>public&nbsp;void&nbsp;sendSAXComment(org.xml.sax.ext.LexicalHandler&nbsp;ch,
                           int&nbsp;start,
                           int&nbsp;length)
                    throws org.xml.sax.SAXException</pre>
<div class="block">Sends the specified range of characters as sax Comment.
 <p>
 Note that, unlike sendSAXcharacters, this has to be done as a single 
 call to LexicalHandler#comment.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ch</code> - SAX LexicalHandler object to receive the event.</dd>
<dd><code>start</code> - Offset of first character in the range.</dd>
<dd><code>length</code> - Number of characters to send.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.xml.sax.SAXException</code> - may be thrown by handler's
 characters() method.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/xml/utils/DOMOrder.html" title="interface in org.apache.xml.utils"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/apache/xml/utils/Hashtree2Node.html" title="class in org.apache.xml.utils"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/xml/utils/FastStringBuffer.html" target="_top">Frames</a></li>
<li><a href="FastStringBuffer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
